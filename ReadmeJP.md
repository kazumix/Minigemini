# MiniGemini 取説

## 概要

MiniGeminiは、Gemini無料検索枠APIを使用した検索機能付きAIチャットボットです。最新のテックニュースなど、リアルタイム情報に答えることができます。

## 制限事項

- **レート制限**: 無料枠では1分間に1回のリクエスト制限があります
- **クールダウン**: 前回のリクエストから1分未経過の場合、「エラー: クールダウン中（残X秒）」と表示されます

## 導入

### pipでのインストール

```bash
pip install -r requirements.txt
```

必要なパッケージ：
- `google-genai>=1.57.0`
- その他の依存パッケージ（`requirements.txt`を参照）

## 無料APIキーの獲得方法

### 1. プロジェクト作成

1. 以下のURLにアクセスしてください：
   https://aistudio.google.com/projects

2. Googleアカウントでログイン

3. 「新しいプロジェクトを作成」をクリック

4. プロジェクト名「Minigemini」を入力して作成

### 2. APIキー生成

1. 以下のURLにアクセスしてください：
   https://aistudio.google.com/api-keys

2. 「APIキーを作成」をクリック

3. キー名に「minigeminiapi」を入力

4. プロジェクトで「Minigemini」を選択

5. APIキーが生成されたら、コピーします

### 3. 設定ファイルの作成

コピーしたAPIキーを`minigemini.json`ファイルに記載します：

```json
{
  "api_key": "あなたのAPIキー",
  "model_name": "gemini-2.5-flash-lite",
  "prompt_rule": "出典を含む50字以内"
}
```

## 動作モード

MiniGeminiには2つの動作モードがあります：

### 1. コンソールモード（対話型）

引数なしで実行すると、対話型のコンソールモードで起動します。

#### 使い方

```bash
python miniGemini.py
```

起動後、プロンプトが表示されたら質問を入力してください。

例：
```
2026年の最新テックニュース3件教えて
```

#### 終了方法

以下のいずれかの方法で終了できます：

- `exit` と入力
- `quit` と入力
- `q` と入力
- `Ctrl+C` を押す

### 2. コマンドラインモード（ワンショット）

起動時に引数でプロンプトを渡すと、一度だけ実行して終了します。

#### 使い方

```bash
python miniGemini.py "質問内容"
```

例：
```bash
python miniGemini.py "2026年の最新テックニュース3件教えて"
```

複数の単語を含む場合は、引用符で囲んでください。

## 設定ファイル

`minigemini.json`で以下の設定が可能です：

- `api_key`: Gemini APIキー（必須）
- `model_name`: 使用するモデル名（デフォルト: `gemini-2.5-flash-lite`）
- `prompt_rule`: プロンプトに常に追加するルール（例: "出典を含む50字以内"）
- `last_used`: 前回の利用時刻（自動更新）

設定ファイルは`miniGemini.py`と同じディレクトリに配置してください。

## エラーメッセージ

- `エラー: クールダウン中（残X秒）`: 1分未経過でリクエストを送信しようとした場合
- `エラー: クォータ超過`: 1日あたりのリクエスト上限（20回）に達した場合
- `エラー: APIエラー`: API呼び出しでエラーが発生した場合
- `エラー: {エラー内容}`: その他のエラー

## 注意事項

- 無料枠は1日20リクエストまでです
- 1分間に1回のリクエスト制限があります
- 設定ファイル（`minigemini.json`）は`miniGemini.py`と同じディレクトリに配置してください
- **重要**: 回答の内容は正確でない場合があります。重要な情報については、実際に確認する必要があります
